<!DOCTYPE html>
<html lang="bg" translate="no">
<head>
  <meta charset="UTF-8">
  <meta name="google" content="notranslate" />
  <link rel="icon" type="image/svg+xml" href="/vite.svg" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>StaySafeBG - Articles</title>
  <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/css/bootstrap.min.css" rel="stylesheet" integrity="sha384-QWTKZyjpPEjISv5WaRU9OFeRpok6YctnYmDr5pNlyT2bRjXh0JMhjY6hW+ALEwIH" crossorigin="anonymous">
  <link rel="stylesheet" href="./src/styles/theme.css">
  <link rel="stylesheet" href="./src/styles/app.css">
  <link rel="stylesheet" href="./src/styles/articles.css">
</head>
<body class="d-flex flex-column min-vh-100">
  <header id="app-header"></header>
  
  <div class="articles-toolbar" id="articles-toolbar">
    <div class="container">
      <div class="row g-3 align-items-center">
        <!-- Search -->
        <div class="col-md-5 col-lg-6">
          <div class="input-group">
            <span class="input-group-text bg-white border-end-0">
              <svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" fill="currentColor" class="bi bi-search text-muted" viewBox="0 0 16 16">
                <path d="M11.742 10.344a6.5 6.5 0 1 0-1.397 1.398h-.001c.03.04.062.078.098.115l3.85 3.85a1 1 0 0 0 1.415-1.414l-3.85-3.85a1.007 1.007 0 0 0-.115-.1zM12 6.5a5.5 5.5 0 1 1-11 0 5.5 5.5 0 0 1 11 0z"/>
              </svg>
            </span>
            <input type="text" id="params-search" class="form-control border-start-0" placeholder="Търсене на статии..." aria-label="Търсене">
          </div>
        </div>
        
        <!-- Filters -->
         <div class="col-md-7 col-lg-6">
           <div class="d-flex gap-2">
            <select class="form-select" id="params-category" aria-label="Категория">
              <option value="">Всички категории</option>
              <option value="phishing">Фишинг</option>
              <option value="shopping">Пазаруване</option>
              <option value="investment">Инвестиции</option>
              <option value="security">Сигурност</option>
              <option value="social">Социални мрежи</option>
            </select>
            
            <select class="form-select" id="params-sort" aria-label="Сортиране">
              <option value="newest">Най-нови</option>
              <option value="oldest">Най-стари</option>
              <option value="az">А-Я</option>
            </select>

            <button class="btn btn-outline-secondary" id="btn-clear" title="Изчисти филтрите">
               &times;
            </button>
           </div>
         </div>
      </div>
    </div>
  </div>

  <main class="container mb-5" id="page-content">
      <div id="articles-container" class="row row-cols-1 row-cols-md-2 row-cols-lg-3 g-4">
        <!-- Articles will be injected here -->
      </div>
      
      <!-- Load More / Spinner -->
      <div class="text-center mt-5 d-none" id="load-more-container">
         <button id="btn-load-more" class="btn btn-primary px-4 py-2 rounded-pill">
            Зареди още статии
         </button>
      </div>
       <div class="text-center mt-5 d-none" id="loading-spinner">
          <div class="spinner-border text-primary" role="status">
            <span class="visually-hidden">Зареждане...</span>
          </div>
      </div>
  </main>
  
  <template id="article-template">
      <div class="col">
          <article class="article-card h-100">
            <a href="#" class="article-link-overlay" aria-label="Read more"></a>
            <div class="card-body d-flex flex-column">
              <div class="mb-3">
                 <span class="badge rounded-pill category-badge">Category</span>
              </div>
              <h5 class="card-title fw-bold text-dark mb-2 line-clamp-2">Title</h5>
              <p class="card-text text-muted line-clamp-3 mb-4 flex-grow-1">Excerpt</p>
              
              <div class="article-meta">
                  <span class="text-nowrap date-text">Date</span>
                  <span class="text-nowrap reading-time">~3 мин</span>
              </div>
            </div>
          </article>
      </div>
  </template>

  <template id="skeleton-template">
      <div class="col skeleton-wrapper">
         <div class="article-card h-100 p-4">
            <div class="skeleton skeleton-text" style="width: 30%;"></div>
            <div class="skeleton skeleton-title mt-3"></div>
            <div class="skeleton skeleton-title" style="width: 60%;"></div>
            <div class="skeleton skeleton-text mt-4" style="width: 100%;"></div>
            <div class="skeleton skeleton-text" style="width: 90%;"></div>
            <div class="skeleton skeleton-text" style="width: 95%;"></div>
             <div class="mt-auto pt-3 border-top">
                <div class="d-flex justify-content-between">
                   <div class="skeleton skeleton-text" style="width: 20%;"></div>
                   <div class="skeleton skeleton-text" style="width: 15%;"></div>
                </div>
             </div>
         </div>
      </div>
  </template>
  
  <footer id="app-footer"></footer>
  
  <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/js/bootstrap.bundle.min.js" integrity="sha384-YvpcrYf0tY3lHB60NNkmXc5s9fDVZLESaAA55NDzOxhy9GkcIdslK1eN7N6jIeHz" crossorigin="anonymous"></script>
  <script type="module" src="./src/pages/articlesPage.js"></script>
</body>
</html>
